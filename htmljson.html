<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>Pokedex</title>
    <style>
        #background {
            width: 100%;
            height: 250px;
            border: 2px solid black;
            text-align: center;
            font-size: 200px;
        }

        #foto {
            position: absolute;
            top: 10%;
            left: 40%;
            height: 40%;
        }
    </style>
</head>

<body>
    <h3>API list : <a href="https://pokeapi.co/api/v2/pokemon/?limit=151"
            target="_blank">https://pokeapi.co/api/v2/pokemon/?limit=151</a></h3>
    <select id="pilih" style="width:100%">
        <script>
            $(document).ready(function () {
                for (i = 1; i <= 151; i++) {
                    let opt = document.createElement("option");
                    opt.id = "pokemon" + i;
                    document.getElementById("pilih").appendChild(opt);
                    $.getJSON("https://pokeapi.co/api/v2/pokemon/" + i + "/", function (list) {
                        opt.innerHTML = list.name
                    });
                }
                $("#pilih").change(function () {
                    var poke = $(this).children(":selected").attr("id");
                    var arr = [];
                    arr = poke;
                    for (j = 1; j <= 151; j++) {
                        if (arr == "pokemon" + j) {
                            $.getJSON("https://pokeapi.co/api/v2/pokemon/" + j + "/", function (pokemon) {
                                var r = Math.floor(Math.random() * 155 + 100);
                                var g = Math.floor(Math.random() * 155 + 100);
                                var b = Math.floor(Math.random() * 155 + 100);
                                var tipe = pokemon.types;
                                if (tipe.length < 2){
                                    document.getElementById("type").innerHTML = pokemon.types[0].type.name;
                                    document.getElementById("type2").innerHTML = "-";
                                }
                                else {
                                    document.getElementById("type").innerHTML = pokemon.types[0].type.name;
                                    document.getElementById("type2").innerHTML = pokemon.types[1].type.name;
                                }
                                var abi = pokemon.abilities
                                if (abi.length < 2){
                                    document.getElementById("ability1").innerHTML = pokemon.abilities[0].ability.name;
                                    document.getElementById("ability2").innerHTML = "-";
                                }
                                else {
                                    document.getElementById("ability1").innerHTML = pokemon.abilities[0].ability.name;
                                    document.getElementById("ability2").innerHTML = pokemon.abilities[1].ability.name;
                                }
                                document.getElementById("height").innerHTML = pokemon.height;
                                document.getElementById("weight").innerHTML = pokemon.weight;
                                document.getElementById("foto").src = pokemon.sprites.front_default;
                                document.getElementById("background").innerHTML = pokemon.name;
                                document.getElementById("background").style.backgroundColor = "rgb(" + r + "," + g + "," + b + ")";
                            });
                        }
                    }
                });
            });

        </script>
    </select>
    <div id="background">
    </div>
    <img id="foto">
    <br>
    <h2>Type:&nbsp;<span id="type"></span>,&nbsp;<span id="type2"></span></h2>
    <h2>Ability 1:&nbsp;<span id="ability1"></span></h2>
    <h2>Ability 2:&nbsp;<span id="ability2"></span></h2>
    <h2>Height:&nbsp;<span id="height"></span></h2>
    <h2>Weight:&nbsp;<span id="weight"></span></h2>
</body>

</html>